<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <f:view contentType="text/html">

        <h:body>
            <ui:composition template="/plantillas/templateNoLoged.xhtml">

                <ui:define name="contenido">
                    <div class="padding">

                        <div> <h2> Registro usuario </h2> </div>
                        <p:messages id="messageNombre" showDetail="true" showSummary="true"/>
                        <p:panelGrid  columns="3" columnClasses="label,value" >
                            <p:outputLabel for="nombre" value="Nombre:" />
                            <p:inputText id="nombre" value="#{clienteBean.cliente.nombre}"  requiredMessage="Ingrese el nombre"
                                         required="true" label="nombre" >
                                
                            </p:inputText>
                            

                            <p:outputLabel for="identificacion" value="Identificación:" />
                            <p:inputText id="identificacion" value="#{clienteBean.cliente.identificacion}" requiredMessage="Ingrese la identificación"
                                         required="true" label="identificacion" > 
                                <p:ajax event="keyup"
                                        listener="#{clienteBean.validateIdentificacion}"
                                        update="messageIdentificacion" />
                            </p:inputText>
                            <p:messages id="messageIdentificacion" showDetail="true" showSummary="true"/>

                            <p:outputLabel for="direccion" value="Dirección:" />
                            <p:inputText id="direccion" value="#{clienteBean.cliente.direccion}" 
                                         required="false" label="direccion" > 
                                <p:ajax event="keyup"
                                        listener="#{clienteBean.validateDireccion()}"
                                        update="messageDireccion" />
                            </p:inputText>
                            <p:messages id="messageDireccion" showDetail="true" showSummary="true"/>

                            <p:outputLabel for="telefono" value="Teléfono:" />
                            <p:inputText id="telefono" value="#{clienteBean.cliente.telefono}" requiredMessage="Ingrese el teléfono"
                                         required="true" label="telefono" >
                                <p:ajax event="keyup"
                                        listener="#{clienteBean.validateTelefono}"
                                        update="messageTelefono" />
                            </p:inputText>
                            <p:messages id="messageTelefono" showDetail="true" showSummary="true"/>

                            <p:outputLabel for="usuario" value="Usuario:" />
                            <p:inputText id="usuario" value="#{clienteBean.cliente.usuario}" requiredMessage="Ingrese el Usuario"
                                         required="true" label="usuario"> 
                                <p:ajax event="keyup"
                                        listener="#{clienteBean.validateUsuario}"
                                        update="messageUsuario" />
                            </p:inputText>
                            <p:messages id="messageUsuario" showDetail="true" showSummary="true"/>

                            <p:outputLabel for="correoElectronico" value="Correo Electrónico:" />
                            <p:inputText id="correoElectronico" value="#{clienteBean.cliente.correoElectronico}" requiredMessage="Ingrese el correo electronico"
                                         required="true" label="correoElectronico" >
                                <p:ajax event="keyup"
                                        listener="#{clienteBean.validateEmail}"
                                        update="messageCorreoElectronico" 
                                        />
                            </p:inputText>
                            <p:messages id="messageCorreoElectronico" showDetail="true" showSummary="true"  style="width:300px;height: 20px "/>
                        </p:panelGrid>
                        
                        <p:spacer height="50px"/>
                        <p:commandButton value="Guardar" actionListener="#{clienteBean.resgistroCliente()}" rendered="#{clienteBean.enRegistro eq false}" immediate="false" update="@form"/>
                        <p:commandButton value="Cancelar" rendered="#{clienteBean.enRegistro eq false}" immediate="true" update="@form" action="index.xhtml?faces-redirect=true" />
                        
                        <p:panelGrid  columns="1" columnClasses="label,value" rendered="#{clienteBean.enRegistro eq true}">
                            <p:outputLabel value="CLiente se ha registrado correctamente" />
                            <p:outputLabel value="Por favor revise su correo para instrucciones posteriores" />
                        </p:panelGrid>
                              
                        <p:spacer height="50px"/>
                        <p:commandButton value="Continuar" rendered="#{clienteBean.enRegistro eq true}" update="@form" action="index.xhtml?faces-redirect=true" />
                        
                    </div>

                </ui:define>        
            </ui:composition>

        </h:body>       
    </f:view>


</html>
